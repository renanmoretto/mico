{% extends "base.html" %}

{% block title %}mico :: config{% endblock %}

{% block head_css %}
.config-info {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1px;
  background: var(--border);
  border: 1px solid var(--border);
  margin-bottom: 36px;
}

.config-info-cell { background: var(--surface); padding: 16px 22px; }

.config-info-label {
  font-size: 8px;
  color: var(--ink-3);
  letter-spacing: 4px;
  margin-bottom: 6px;
}

.config-info-val {
  font-size: 12px;
  color: var(--ink);
}
{% endblock %}

{% block content %}
<div class="sec-head">
  <div class="sec-title">config</div>
</div>

<div class="config-info">
  <div class="config-info-cell">
    <div class="config-info-label">Model</div>
    <div class="config-info-val">{{ model_name }}</div>
  </div>
  <div class="config-info-cell">
    <div class="config-info-label">Telegram Defaults</div>
    <div class="config-info-val" style="font-size:10px;color:var(--ink-3)">
      enabled={{ telegram_defaults.enabled }},
      timeout={{ telegram_defaults.poll_timeout_seconds }}s,
      interval={{ telegram_defaults.poll_interval_seconds }}s
    </div>
  </div>
</div>

<div class="table-frame">
  <div style="background:var(--sysbar);border-bottom:1px solid var(--border);padding:10px 18px;display:flex;align-items:center;justify-content:space-between">
    <span style="font-size:9px;color:var(--ink-3);text-transform:uppercase;letter-spacing:4px">config.json</span>
    <span style="font-size:9px;color:var(--border);letter-spacing:2px">table: config Â· key: app</span>
  </div>
  <div style="padding:22px">
    <form method="post" action="/config">
      <div class="f">
        <textarea name="config_json" style="min-height:480px;resize:vertical" spellcheck="false" required>{{ config_json }}</textarea>
        <p style="font-size:9px;color:var(--border);margin-top:8px;letter-spacing:1px">
          Channel credentials and per-agent channel settings remain in
          <span style="color:var(--ink-3)">agent_channels</span>.
        </p>
      </div>
      <button type="submit" class="btn-do" style="width:100%;display:block">save</button>
    </form>
  </div>
</div>
{% endblock %}
